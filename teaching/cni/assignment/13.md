# 一、单项选择题

1. In TCP, （　　） prevents a fast computer sending so much data that it overruns a slow receiver.
   - A. congestion control
   - B. flow control
   - C. stop-and-wait
   - D. sliding window

2. TCP sets the （　　） code bit of the segment to create a connection.
   - A. SYN
   - B. ACK
   - C. FIN
   - D. URG

3. After the server TCP receives a passive open request from the server application program, it goes to the （　　） state.
   - A. CLOSED
   - B. LISTEN
   - C. SYN-RCVD
   - D. ESTABLISHED

4. The TCP （　　） state represents waiting for a connection request from any remote TCP and port.
   - A. CLOSED
   - B. LISTEN
   - C. CLOSE_WAIT
   - D. ESTABLISHED

5. TCP 使用 3 次握手协议建立连接，以防止（　　）；当请求方发出 SYN 连接请求后，等待对方回答（　　）以建立正确的连接；当出现错误连接时，响应（　　）。

问题1 选项：
   - A. 出现半连接
   - B. 无法连接
   - C. 产生错误的连接
   - D. 连接失效

问题2 选项：
   - A. SYN,ACK
   - B. FIN,ACK
   - C. PSH,ACK
   - D. RST,ACK

问题3 选项：
   - A. SYN,ACK
   - B. FIN,ACK
   - C. PSH,ACK
   - D. RST,ACK

6. TCP 采用慢启动进行拥塞控制，若 TCP 在某轮拥塞窗口为 8 时出现拥塞，经过 4 轮均成功收到应答，此时拥塞窗口为（　　）。
   - A. 5
   - B. 6
   - C. 7
   - D. 8


# 二、简答题

7. 建立 TCP 连接时，被动打开一端在收到对端 SYN 前所处的状态为（　　）。

8. 停等协议主要使用何种机制解决 IP 层的丢包、乱序和重复？

9. 为什么需要进行流量控制？TCP 采用何种机制进行流量控制？

10. TCP 已有流量控制，为何还需要拥塞控制？

11. 请作图说明 TCP 建立和撤除连接的交换顺序，并注明重要的头部标志（SYN, ACK, FIN, RST 等）。


# 三、程序设计题

12. 请用你熟悉的语言（如 Python）编写一个遵守 NTP（网络时间协议）的服务器端程序，从命令行参数获得时间字符串（例如："2019-05-01 10:41:00"），使之能配合 Windows 的“Internet 时间”客户端（设置服务器为 localhost）完成时间更新。

    要求：
    - 支持基本的 NTP 协议报文交换（可实现简化版，返回固定时刻信息）；
    - 提供 README，说明如何运行服务器并在 Windows 上配置为 localhost 更新；
    - 推荐使用标准库或常用第三方包（例如 Python 的 socket 模块），并在 README 中列出依赖。

13. 编写程序模拟单机的停等协议：

    - 使用线程或并发机制模拟通信双方（发送方 A、接收方 B）；
    - A 发包，B 返回确认（ACK）；通过随机数模拟丢包概率；
    - 实现超时重传与重传次数限制；
    - 输出运行日志（发送、重传、接收 ACK、最终成功/失败）。

14. 编写程序模拟单机的滑动窗口机制：

    - 使用线程模拟通信双方；
    - 实现发送窗口与接收窗口，同步管理窗口状态；
    - 通过随机丢包模拟环境，并实现超时重传；
    - 额外运行一个监控线程，每秒输出窗口内各状态计数：已发送并收到确认、已发送但未收到确认、允许发送但尚未发送、不允许发送、已发送确认并交付主机、允许接收、不允许接收；
    - 统计并输出通知窗口（advertised window）和可用窗口（available window）的大小随时间的变化。

