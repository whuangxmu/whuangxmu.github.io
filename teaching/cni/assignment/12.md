# 一、单项选择题

1. Which can be a source address in the header in IPv6 datagram?
   - A. 00:50:56:C0:00:01
   - B. 2002::87e5:c3dd
   - C. 7.0.0.3
   - D. 8080

2. Which of the following address uniquely identifies a running application program?
   - A. MAC address
   - B. IP address
   - C. port number
   - D. host name

3. Which does NOT exist in the UDP header?
   - A. Source port
   - B. Destination port
   - C. Checksum
   - D. ACK Number

4. Which can be a source address in the UDP header?
   - A. C4-19-87-15-C1-8A
   - B. 192.168.1.3
   - C. 8080
   - D. 80800

5. Which is a client port number?
   - A. 80
   - B. 8080
   - C. 20101
   - D. 65530

6. The field （　　） does NOT exist in both TCP and UDP headers.
   - A. Source Port
   - B. Destination Port
   - C. Checksum
   - D. Header Length

7. The field （　　） exists in both IP and TCP headers.
   - A. version
   - B. window
   - C. total length
   - D. header length

8. The field （　　） exists in both TCP and IP headers.
   - A. Fragment offset
   - B. Window
   - C. Header length
   - D. Checksum

9. TCP DOES NOT guarantee that the data sent across a connection will be （　　）.
   - A. delivered exactly as sent
   - B. delivered completely
   - C. delivered in same size pieces
   - D. delivered in order

10. TCP works on the （　　） layer of the OSI model.
    - A. data link
    - B. network
    - C. transport
    - D. application

11. TCP works on the （　　） layer of the TCP/IP protocol suite.
    - A. network interface
    - B. physical
    - C. transport
    - D. application

12. The （　　） uses both TCP and UDP to send messages.
    - A. DHCP
    - B. DNS
    - C. FTP
    - D. ICMP

13. Which statement DOES NOT characterize the transport layer protocols?
    - A. TCP and UDP port numbers are used by application layer protocols.
    - B. TCP uses port numbers to provide reliable transportation of IP packets.
    - C. TCP uses windowing and sequencing to provide reliable transfer of data.
    - D. TCP is a connection-oriented protocol. UDP is a connectionless protocol.

14. 端口号的作用是（　　）。
    - A. 流量控制
    - B. 应用层进程寻址
    - C. 建立连接
    - D. ACL 过滤

15. SNMP 协议采用 UDP 提供数据报服务，原因不包括 UDP （　　）。
    - A. 数据传输效率高
    - B. 面向连接，没有数据丢失
    - C. 无需确认，不增加主机重传负担
    - D. 开销小，不增加网络负载

16. 在 TCP 协议中，用于进行流量控制的字段为（　　）。
    - A. 端口号
    - B. 序列号
    - C. 应答编号
    - D. 窗口

17. TCP 协议中，URG 指针的作用是（　　）。
    - A. 表明 TCP 段中有带外数据
    - B. 表明数据需要紧急传送
    - C. 表明带外数据在 TCP 段中的位置
    - D. 表明 TCP 段的发送方式

# 二、简答题

18. 有些需求需要用 TCP 实现，有些需求则需要 UDP 实现。请各列举一些应用场景，并说明为何需要用这种传输模式实现。

19. 请列举 TCP 段和 UDP 报文头部的字段（不要求顺序）。

20. 请简要回答：为什么广播不能通过 TCP 实现？

21. 主机 H 通过快速以太网连接 Internet，IP 地址为 `192.168.0.8`，服务器 S 的 IP 地址为 `211.68.71.80`。H 与 S 使用 TCP 通信时，在 H 上捕获的其中 5 个 IP 分组如下（摘自抓包，前 40 字节，十六进制）：

题 47‑a 表（IP 分组前 40 字节，十六进制）

```
1  45 00 00 30  01 9b 40 00  80 06 1d e8  c0 a8 00 08  d3 44 47 50
   0b d9 13 88  84 6b 41 c5  00 00 00 00  70 02 43 80  5d b0 00 00

2  43 00 00 30  00 00 40 00  31 06 6e 83  d3 44 47 50  c0 a8 00 08
   13 88 0b d9  e0 59 9f ef  84 6b 41 c6  70 12 16 d0  37 e1 00 00

3  45 00 00 28  01 9c 40 00  80 06 1d ef  c0 a8 00 08  d3 44 47 50
   0b d9 13 88  84 6b 41 c6  e0 59 9f f0  50 f0 43 80  2b 32 00 00

4  45 00 00 38  01 9d 40 00  80 06 1d de  c0 a8 00 08  d3 44 47 50
   0b d9 13 88  84 6b 41 c6  e0 59 9f f0  50 18 43 80  e6 55 00 00

5  45 00 00 28  68 11 40 00  31 06 06 7a  d3 44 47 50  c0 a8 00 08
   13 88 0b d9  e0 59 9f f0  84 6b 41 d6  50 10 16 d0  57 d2 00 00
```

请回答下列问题：

1) 题 47‑a 表中的 IP 分组中，哪几个是由 H 发送的？哪几个完成了 TCP 连接建立过程？哪几个在通过快速以太网传输时进行了填充？

2) 根据题 47‑a 表中的 IP 分组，分析 S 已经收到的应用层数据字节数是多少？

3) 若题 47‑a 表中的某个 IP 分组在 S 发出时的前 40 字节如下（题 47‑b），则该 IP 分组到达 H 时经过了多少个路由器？

题 47‑b（来自 S 的分组前 40 字节，十六进制）

```
45 00 00 28  68 11 40 00  40 06 ec ad  d3 44 47 50  ca 76 01 06
13 88 al 08  e0 59 9f f0  84 6b 41 d6  50 10 16 d0  b7 d6 00 00
```

> 注：IP 分组头和 TCP 段头结构分别如题 47‑a 图和题 47‑b 图所示。

# 三、程序设计题

22. 请编写一个遵守 ICMP 协议的时间服务器客户端和服务器端程序。
